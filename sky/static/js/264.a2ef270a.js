"use strict";(self.webpackChunkskyweb=self.webpackChunkskyweb||[]).push([[264],{5264:function(e,t,l){l.r(t),l.d(t,{default:function(){return N}});var o=l(5918),a=l(5751),n=l(6544),r=l(7361),c=l(3297),s=l(3863),i=l(7652),u=l(3697),d=l(8165),m=l(3554),f=l(349),k=l(2651);const p={class:"h-1 scroll position-re tk-p-20 tk-fs-13"},v={class:"flex-row flex-align-center"},y={key:0,class:"tk-fs-10",style:{color:"#ffff00"}},V={key:0,class:"color-primary tk-br-8 tk-p-h-5 tk-fs-10 tk-m-l-10"},_={key:0,class:"tk-m-v-12",style:{"border-top-style":"dashed","border-top-width":"1px","border-top-color":"#aaaaaa55"}},B={key:1},h={class:"color-detail-color tk-fs-12"},g={key:3},$={class:"color-detail-color tk-fs-12"},b={key:5,class:"flex-row tk-m-t-15 flex-just-end flex-align-center"};var N=(0,o.defineComponent)({__name:"normal",setup(e){const{userInfo:t,authInfo:l}=(0,u.storeToRefs)((0,i.P)()),{useMobile:N}=(0,u.storeToRefs)((0,s.pp)()),E=(0,o.ref)(t.value.email??""),C=(0,o.ref)(""),w=(0,o.ref)(!1),S=(0,o.ref)(0),x=(0,o.ref)(!1),A=(0,o.computed)((()=>"no"!=l.value.email));let D=0;const W=async()=>{try{await a.clientApi.userApi.addEmailUserValidateSetWeb({email:E.value,code:C.value.trim()}),(0,d.rW)("Success","success"),m.s.emit("getUserValidateSetWeb")}catch(e){(0,d.rW)(e.message)}},z=async e=>{try{await a.clientApi.userApi.sendCodeByEmail(E.value),w.value=!0,(0,f.L8)((e=>((0==D||e-D>10)&&(D=e),S.value=10-(e-D),e-D>10&&(x.value=!0,!0))))}catch(e){(0,d.rW)(e.message)}e()};return(e,l)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",p,[(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("div",v,[(0,o.createElementVNode)("span",null,[(0,o.createTextVNode)((0,o.toDisplayString)((0,o.unref)(c.$t)("$vuetify.t_email"))+" ",1),A.value?((0,o.openBlock)(),(0,o.createElementBlock)("span",y,"("+(0,o.toDisplayString)((0,o.unref)(t).email)+")",1)):(0,o.createCommentVNode)("",!0)]),A.value?((0,o.openBlock)(),(0,o.createElementBlock)("div",V,(0,o.toDisplayString)((0,o.unref)(c.$t)("$vuetify.set_e_valid")),1)):(0,o.createCommentVNode)("",!0)]),A.value?((0,o.openBlock)(),(0,o.createElementBlock)("div",_)):(0,o.createCommentVNode)("",!0),A.value?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",B,[(0,o.createElementVNode)("span",h,(0,o.toDisplayString)((0,o.unref)(c.$t)("$vuetify.set_email_addr")),1)])),A.value?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(r.A,{key:2,"font-size":"12px",style:(0,o.normalizeStyle)({width:(0,o.unref)(N)?"100%":"50%"}),placeholder:(0,o.unref)(c.$t)("$vuetify.login_account_rule_title"),disabled:!!(0,o.unref)(t).email,modelValue:E.value,"onUpdate:modelValue":l[0]||(l[0]=e=>E.value=e)},null,8,["style","placeholder","disabled","modelValue"])),A.value?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",g,[(0,o.createElementVNode)("span",$,(0,o.toDisplayString)((0,o.unref)(c.$t)("$vuetify.login_email_code")),1)])),A.value?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createBlock)(r.A,{key:4,"font-size":"12px",style:(0,o.normalizeStyle)({width:(0,o.unref)(N)?"100%":"50%"}),placeholder:(0,o.unref)(c.$t)("$vuetify.login_get_email_code"),modelValue:C.value,"onUpdate:modelValue":l[1]||(l[1]=e=>C.value=e)},(0,o.createSlots)({_:2},[w.value?void 0:{name:"btn",fn:(0,o.withCtx)((()=>[(0,o.createVNode)(n.A,{class:"tk-m-l-5 tk-fs-12",onHandler:z,title:(0,o.unref)(c.$t)("$vuetify.login_get_email_code")},null,8,["title"])])),key:"0"}]),1032,["style","placeholder","modelValue"])),A.value?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",b,[w.value?((0,o.openBlock)(),(0,o.createBlock)(n.A,{key:0,class:"tk-m-r-14",color:"#808191",ground:"#ffffff00",title:S.value>0?(0,o.unref)(c.$t)("$vuetify.left_sec_second",{code:S.value}):(0,o.unref)(c.$t)("$vuetify.set_re_set_email"),onHandler:z},null,8,["title"])):(0,o.createCommentVNode)("",!0),(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("div",{onClick:W,class:"color-blue pointer tk-p-v-4 tk-p-h-22 tk-br-6"},[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)((0,o.unref)(c.$t)("$vuetify.wallet_save_type")),1)])),[[k.n]])]))]),l[2]||(l[2]=(0,o.createElementVNode)("div",{class:"tk-m-t-20 tk-h-10 position-ab",style:{left:"0",right:"0","background-color":"#00000055"}},null,-1))]))}})}}]);