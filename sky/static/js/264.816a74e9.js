"use strict";(self.webpackChunkskyweb=self.webpackChunkskyweb||[]).push([[264],{75264:function(e,l,t){t.r(l),t.d(l,{default:function(){return E}});var a=t(20641),s=t(90033),u=t(50953),i=t(45751),o=t(72903),n=t(5521),r=t(50716),c=t(63863),v=t(87652),d=t(5615),k=t(48596),f=t(73554),p=t(40349),y=t(42651);const m={class:"h-1 scroll position-re tk-p-20 tk-fs-13"},_={class:"flex-row flex-align-center"},b={key:0,class:"tk-fs-10",style:{color:"#ffff00"}},$={key:0,class:"color-primary tk-br-8 tk-p-h-5 tk-fs-10 tk-m-l-10"},h={key:0,class:"tk-m-v-12",style:{"border-top-style":"dashed","border-top-width":"1px","border-top-color":"#aaaaaa55"}},R={key:1},g={class:"color-detail-color tk-fs-12"},w={key:3},C={class:"color-detail-color tk-fs-12"},X={key:5,class:"flex-row tk-m-t-15 flex-just-end flex-align-center"};var E=(0,a.pM)({__name:"normal",setup(e){const{userInfo:l,authInfo:t}=(0,d.bP)((0,v.P)()),{useMobile:E}=(0,d.bP)((0,c.pp)()),W=(0,u.KR)(l.value.email??""),Q=(0,u.KR)(""),x=(0,u.KR)(!1),A=(0,u.KR)(0),L=(0,u.KR)(!1),V=(0,a.EW)((()=>"no"!=t.value.email));let K=0;const U=async()=>{try{await i.clientApi.userApi.addEmailUserValidateSetWeb({email:W.value,code:Q.value.trim()}),(0,k.rW)("Success","success"),f.s.emit("getUserValidateSetWeb")}catch(e){(0,k.rW)(e.message)}},P=async e=>{try{await i.clientApi.userApi.sendCodeByEmail(W.value),x.value=!0,(0,p.L8)((e=>((0==K||e-K>10)&&(K=e),A.value=10-(e-K),e-K>10&&(L.value=!0,!0))))}catch(e){(0,k.rW)(e.message)}e()};return(e,t)=>((0,a.uX)(),(0,a.CE)("div",m,[(0,a.Lk)("div",null,[(0,a.Lk)("div",_,[(0,a.Lk)("span",null,[(0,a.eW)((0,s.v_)((0,u.R1)(r.$t)("$vuetify.t_email"))+" ",1),V.value?((0,a.uX)(),(0,a.CE)("span",b,"("+(0,s.v_)((0,u.R1)(l).email)+")",1)):(0,a.Q3)("",!0)]),V.value?((0,a.uX)(),(0,a.CE)("div",$,(0,s.v_)((0,u.R1)(r.$t)("$vuetify.set_e_valid")),1)):(0,a.Q3)("",!0)]),V.value?((0,a.uX)(),(0,a.CE)("div",h)):(0,a.Q3)("",!0),V.value?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",R,[(0,a.Lk)("span",g,(0,s.v_)((0,u.R1)(r.$t)("$vuetify.set_email_addr")),1)])),V.value?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(n.A,{key:2,"font-size":"12px",style:(0,s.Tr)({width:(0,u.R1)(E)?"100%":"50%"}),placeholder:(0,u.R1)(r.$t)("$vuetify.login_account_rule_title"),disabled:!!(0,u.R1)(l).email,modelValue:W.value,"onUpdate:modelValue":t[0]||(t[0]=e=>W.value=e)},null,8,["style","placeholder","disabled","modelValue"])),V.value?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",w,[(0,a.Lk)("span",C,(0,s.v_)((0,u.R1)(r.$t)("$vuetify.login_email_code")),1)])),V.value?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(n.A,{key:4,"font-size":"12px",style:(0,s.Tr)({width:(0,u.R1)(E)?"100%":"50%"}),placeholder:(0,u.R1)(r.$t)("$vuetify.login_get_email_code"),modelValue:Q.value,"onUpdate:modelValue":t[1]||(t[1]=e=>Q.value=e)},(0,a.eX)({_:2},[x.value?void 0:{name:"btn",fn:(0,a.k6)((()=>[(0,a.bF)(o.A,{class:"tk-m-l-5 tk-fs-12",onHandler:P,title:(0,u.R1)(r.$t)("$vuetify.login_get_email_code")},null,8,["title"])])),key:"0"}]),1032,["style","placeholder","modelValue"])),V.value?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",X,[x.value?((0,a.uX)(),(0,a.Wv)(o.A,{key:0,class:"tk-m-r-14",color:"#808191",ground:"#ffffff00",title:A.value>0?(0,u.R1)(r.$t)("$vuetify.left_sec_second",{code:A.value}):(0,u.R1)(r.$t)("$vuetify.set_re_set_email"),onHandler:P},null,8,["title"])):(0,a.Q3)("",!0),(0,a.bo)(((0,a.uX)(),(0,a.CE)("div",{onClick:U,class:"color-blue pointer tk-p-v-4 tk-p-h-22 tk-br-6"},[(0,a.Lk)("span",null,(0,s.v_)((0,u.R1)(r.$t)("$vuetify.wallet_save_type")),1)])),[[y.n]])]))]),t[2]||(t[2]=(0,a.Lk)("div",{class:"tk-m-t-20 tk-h-10 position-ab",style:{left:"0",right:"0","background-color":"#00000055"}},null,-1))]))}})}}]);